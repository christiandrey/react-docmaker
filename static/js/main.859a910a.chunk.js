(this["webpackJsonpreact-docmaker-example"]=this["webpackJsonpreact-docmaker-example"]||[]).push([[0],{73:function(e,t,n){e.exports=n(97)},74:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);n(74);var a=n(0),r=n.n(a),l=n(21),i=n.n(l),o=n(1),c=n(22),u=n(72),s=n(99),d=n(11),f=n(6),m=n.n(f),h=n(33),b=n.n(h),v=n(48),p=n(45),g=n(46),y=n(40),E=n(41),w=n(42),O=n(43),j=n(44),k=n(47),x=n(39),N=n(49),C=n(66),R=n(34),S=n.n(R),M=n(27),P=n(50),A=n(28),D=n(71),I=n(70),F=n(25),T=n(51),V=n(58),q=n(60),L=n(57),H=n(59),B=n(53),_=n(61),W=n(62),z=n(54),U=n(64),J=n(63),X=n(52),G=n(56),Y=n(55),K=n(68),Q=n(69),Z=n(65),$=n(67),ee=n(35),te=n.n(ee),ne=n(20);function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function le(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var ie=["numbered-list","bulleted-list"],oe={"mod+b":"bold","mod+i":"italic","mod+u":"underline","mod+shift+x":"strikethrough"},ce=["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#326FF3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],ue="left",se="right",de="center",fe="justify",me={text:"Text",options:"Dropdown",radio:"Radio",date:"Date",time:"Time"},he=["do MMMM, yyyy","dd MMMM, yyyy","MMMM dd, yyyy","dd/MM/yyyy","MM/dd/yyyy","MMM d, yyyy","dd MMM, yy","dd-MM-yyyy","dd-MM-yy"],be=["hh:mm a","hh:mm aaaa","HH:mm"];function ve(e){return"undefined"===typeof e||null===e}function pe(e){return!ve(e)}function ge(e,t,n){return Math.min(Math.max(e,t),n)}function ye(e){if(ve(e))return null;var t=parseFloat(e);return isNaN(t)?0:t}function Ee(e,t){if(void 0===t&&(t="yyyy-MM-dd"),!ve(e))try{return Object(c.a)(e instanceof Date?e:new Date(e),t)}catch(n){return}}function we(e){return/^#([0-9A-F]{3}){1,2}$/i.test(e)}function Oe(e,t){var n,a,r,l;return(e=null===(n=e)||void 0===n||null===(a=n.replace(/^#/gi,""))||void 0===a?void 0:a.toLowerCase())===(t=null===(r=t)||void 0===r||null===(l=r.replace(/^#/gi,""))||void 0===l?void 0:l.toLowerCase())}function je(){return Object(s.a)()}function ke(e,t){return!!o.a.nodes(e,{match:function(e){return!o.a.isEditor(e)&&o.b.isElement(e)&&e.type===t}})[0]}function xe(e,t){if(!e)return null;var n=o.a.marks(e),a=Ue(e,(function(t){return o.a.isInline(e,t)})),r=Ue(e,(function(e){return"editable"===e.type})),l=!1,i=!1;if(pe(n)){var c=n[t];l=["color","ref"].includes(t)?pe(c):!0===c}return null!==r&&void 0!==r&&r.length&&(i=r.map((function(e){return["color","ref"].includes(t)?pe(e[t]):!0===e[t]})).every((function(e){return e}))),null!==a&&void 0!==a&&a.length&&a.every((function(e){return r.includes(e)}))?i:null!==r&&void 0!==r&&r.length?i&&l:l}function Ne(e){if(!e)return null;var t=o.a.marks(e),n=Ue(e,(function(t){return o.a.isInline(e,t)})),a=Ue(e,(function(e){return"editable"===e.type})),r=null===t||void 0===t?void 0:t.color,l=null;return null!==a&&void 0!==a&&a.length&&(l=a[0].color),null!==n&&void 0!==n&&n.length&&n.every((function(e){return a.includes(e)}))||null!==a&&void 0!==a&&a.length?l:r}function Ce(e,t){var n;xe(e,t)?(o.a.removeMark(e,t),o.h.unsetNodes(e,t,{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type}})):(o.h.setNodes(e,((n={})[t]=!0,n),{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type},hanging:!0}),o.a.addMark(e,t,!0))}function Re(e,t){var n=Ne(e);pe(n)&&Oe(n,t)?(o.a.removeMark(e,"color"),o.h.unsetNodes(e,"color",{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type}})):(o.h.setNodes(e,{color:t},{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type},hanging:!0}),o.a.addMark(e,"color",t))}function Se(e,t){ke(e,t)?function(e){o.h.unwrapNodes(e,{match:function(e){return ie.includes(!o.a.isEditor(e)&&o.b.isElement(e)&&e.type)},split:!0});o.h.setNodes(e,{type:"paragraph"})}(e):function(e,t){var n=ie.includes(t);o.h.unwrapNodes(e,{match:function(e){return ie.includes(!o.a.isEditor(e)&&o.b.isElement(e)&&e.type)},split:!0});var a={type:n?"list-item":t};if(o.h.setNodes(e,a),n){var r={type:t,children:[]};o.h.wrapNodes(e,r)}}(e,t)}function Me(e){d.b.focus(e)}function Pe(e,t){return ae({},e,{className:m()(null===e||void 0===e?void 0:e.className,t)})}function Ae(e,t,n){return ae({},e,{className:m()(null===e||void 0===e?void 0:e.className,n,{"text-right":"right"===t,"text-center":"center"===t,"text-justify":"justify"===t})})}function De(e,t){return void 0===t&&(t={}),ae({},e,{style:ae({},(null===e||void 0===e?void 0:e.style)||{},t)})}function Ie(e){var t=null===e||void 0===e?void 0:e.selection;if(null!==t&&null!==t.anchor){var n=e.children[t.anchor.path[0]];return ie.includes(null===n||void 0===n?void 0:n.type)?n.children[t.anchor.path[1]]:n}return null}function Fe(e){var t=Ie(e);return null===t||void 0===t?void 0:t.indentation}function Te(e){return e?e+"%":null}function Ve(e){return ve(e)?null:ae({},e,{editable:!0,id:je()})}function qe(e,t){void 0===t&&(t=!1);var n=ae({type:"editable"},e,{children:[{text:""}]});return t&&(n.isOrphan=t),n=Ve(n)}function Le(e,t,n){var a=t.url,r=t.dimensions,l=r.width,i=r.height,c=t.label,u={type:"image",url:a,width:l,height:i,children:[{text:""}]};n&&(u.type="editable",u.dataType="image",u.label=c,u=Ve(u)),o.h.insertNodes(e,u),o.h.move(e)}function He(e,t,n){void 0===n&&(n=""),o.h.insertNodes(e,{type:"paragraph",children:[{text:n}]},{at:t})}function Be(e){if(e.selection){var t,n=o.a.above(e,{match:function(e){return"table"===e.type}}),a=o.f.isCollapsed(e.selection);if(!n&&a){var r=(t=3,{type:"table",children:[].concat(new Array(3)).map((function(){return Ye(t)})),borderless:!1,data:{}});o.h.insertNodes(e,r)}}}function _e(e,t){void 0===t&&(t=!1);var n=e.dataType,a=e.dateTimeFormat,r=e.multiline,l=e.defaultValue,i=e.label,o=e.options,c=e.tip,u=e.valueRef,s={dataType:n,defaultValue:l};return null!==u&&void 0!==u&&u.length?(s.valueRef=u,s):(t&&(s.tip=c),"text"===n&&r&&(s.multiline=r),["options","radio"].includes(n)&&(s.options=o),["date","time"].includes(n)&&(s.dateTimeFormat=a),s.label=i,s)}function We(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.dataType,r=e.dateTimeFormat,l=e.defaultValue,i=e.label,o=e.options,c=e.tip,u=e.valueRef;return n?!(null===u||void 0===u||!u.length)&&!(null===l||void 0===l||!l.length):!(!(null!==a&&void 0!==a&&a.length&&null!==l&&void 0!==l&&l.length&&null!==i&&void 0!==i&&i.length)||t&&!c.length)&&(["options","radio"].includes(a)?!(null===o||void 0===o||!o.length):!["date","time"].includes(a)||!(null===r||void 0===r||!r.length))}function ze(e,t,n){void 0===t&&(t=function(){return!0}),void 0===n&&(n=[]),t(e)&&n.push(e);var a=e.children;if(null!==a&&void 0!==a&&a.length)for(var r,l=le(a);!(r=l()).done;){ze(r.value,t,n)}return n}function Ue(e,t){void 0===t&&(t=function(){return!0});var n=o.a.nodes(e,{match:t});return Array.from(n).map((function(e){return e[0]}))}function Je(e){if(!e.selection)return!1;var t=o.a.edges(e,e.selection),n=t[0],a=t[1],r=o.a.nodes(e,{at:n,match:function(e){return"table"===e.type}})[0],l=o.a.nodes(e,{at:a,match:function(e){return"table"===e.type}})[0];if(r&&l){var i=r[1],c=l[1];if(o.e.equals(i,c))return!0}return!1}function Xe(e){return{type:"table-content",children:e||[{type:"paragraph",children:[{text:""}]}]}}function Ge(e){var t=void 0===e?{}:e,n=t.elements,a=t.colspan,r=t.rowspan,l=t.height,i=t.width,o=Xe(n);return{type:"table-cell",key:"cell_"+je(),children:[o],width:i,height:l,colspan:a,rowspan:r}}function Ye(e){var t=[].concat(new Array(e)).map((function(){return Ge()}));return{type:"table-row",key:"row_"+je(),data:{},children:t}}var Ke=Object(a.memo)((function(e){var t=e.children,n=e.className,a=e.disabled,l=e.onPress;return r.a.createElement("button",{onClick:l,className:m()("border-transparent rounded-default font-medium cursor-pointer text-white px-18 flex items-center justify-center transition-colors duration-250 hover:bg-blue-600",{"bg-blue-500":!a,"pointer-events-none bg-blue-300":a,"h-40":!/\bh-[0-9]/gi.test(n)},n)},t)})),Qe="_1BmZO",Ze=function(e){var t,n,l=e.title,i=e.createdAt,o=e.onChangeTitle,c=e.onPressSave,s=Object(a.useRef)(null),d=Object(a.useRef)(l);return r.a.createElement("div",{className:"bg-white py-18 px-60 flex items-center justify-between"},r.a.createElement("div",null,r.a.createElement(b.a,{innerRef:s,className:m()(Qe,"text-heading-2 font-medium mb-4"),placeholder:"Untitled document",html:d.current,onChange:function(e){var t=e.target.value;d.current=t,"<br>"===t&&(s.current.innerHTML="")},onBlur:function(){null===o||void 0===o||o(d.current)}}),i&&r.a.createElement("div",{className:"font-medium text-gray-400 text-subhead"},function(e){var t;return ve(e)?e:""+(null===(t=e[0])||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.substr(1))}((n=i,Object(u.a)(new Date(n),new Date))))),r.a.createElement(Ke,{disabled:!(null!==(t=d.current)&&void 0!==t&&t.length),onPress:c},"Save changes"))},$e=Object(a.createContext)(null),et=function(e){var t=e.children;return r.a.createElement("div",{className:"max-w-6xl m-auto pt-120 pb-120 px-60"},t)},tt=function(e){var t=e.attributes,n=e.children,l=e.element,i=Object(d.f)(),o=Object(d.e)(),c=Object(a.useMemo)((function(){return l.editable?(e=l.width,t=l.height,"https://dummyimage.com/"+e+"x"+(t||e)+"/326FF3/FFFFFF"):l.url;var e,t}),[l.editable,l.height,l.url,l.width]);return r.a.createElement("span",Object.assign({},t),n,r.a.createElement("img",{src:c,style:{width:l.width,height:l.height},className:m()("inline-block max-w-full rounded-default align-bottom",{"shadow-outline":i&&o})}))},nt=function(e){var t=e.attributes,n=e.children,l=e.element,i=Object(d.f)(),o=Object(d.e)();return Object(a.useEffect)((function(){return function(){}}),[]),r.a.createElement("span",Object.assign({},De(Pe(t,m()("bg-blue-500 text-white font-medium px-4 py-2 rounded-default mx-1",{"shadow-outline":i&&o})),{fontSize:"0.82em"}),{contentEditable:!1}),l.defaultValue,n)},at=function(e,t,n){for(var a,r=t[1].length,l=[],i=le(o.a.nodes(e,{at:t[1],match:function(e){return"table-cell"===e.type}}));!(a=i()).done;){var c=a.value,u=c[0],s=c[1];l.push({cell:u,path:s,realPath:[].concat(s)})}for(var d=[],f=null,m=0;m<l.length;m++){var h=l[m],b=h.cell,v=h.path,p=h.realPath,g=b.rowspan,y=void 0===g?1:g,E=b.colspan,w=void 0===E?1:E,O=v[r],j=v[r+1];for(d[O]||(d[O]=[]);d[O][j];)j++;for(var k=0;k<y;k++)for(var x=0;x<w;x++){var N=O+k,C=j+x;d[N]||(d[N]=[]),d[N][C]={cell:b,path:[].concat(p.slice(0,r),[N,C]),isReal:1===y&&1===w||N===O&&C===j,originPath:v},f||b.key!==n||(f=d[N][C],d[N][C].isInsertPosition=!0)}}return{gridTable:d,tableDepth:r,getCol:function(e){var t=[];return d.forEach((function(n){n.forEach((function(n){e&&e(n)&&t.push(n)}))})),t}}};function rt(e){o.h.unsetNodes(e,"selectedCell",{at:[],match:function(e){return!!e.selectedCell}})}var lt="_1G6u3",it="_3hUa4",ot="_7q_Ny",ct="_4jIOQ",ut="_5Snn8",st="_2jgzx",dt="_1Hjma",ft="_WtvBh",mt="_2DCZX",ht="_1P8u-",bt="_ekmVl",vt={defaultWidth:50,defaultHeight:22,tableStyle:{borderSpacing:0,Layout:"fixed",wordBreak:"break-word"}},pt=0,gt=function(e){var t=e.table,n=e.tableNode,l=Object(a.useRef)(null),i=Object(d.d)(),c=Object(a.useState)([]),u=c[0],s=c[1],f=Object(a.useRef)({}).current;Object(a.useEffect)((function(){var e=at(i,n).gridTable,a=void 0===e?[]:e;if(a.length){for(var r=[],l=0;l<a[0].length;l++)for(var o=function(e){var n=a[e][l];if(!n)return"continue";var i=t.querySelector("[data-key="+n.cell.key+"]");if(!i)return"continue";r[l]||(r[l]={width:0,el:[]}),r[l].width=r[l].width?Math.min(r[l].width,i.offsetWidth+i.offsetLeft):i.offsetWidth+i.offsetLeft,r[l].el.findIndex((function(e){return e.dataset.key===i.dataset.key}))<0&&r[l].el.push(i)},c=0;c<a.length;c++)o(c);for(var u=1;u<r.length;u++){var d=r.slice(0,u).reduce((function(e,t){return e+t.width}),0);r[u].width=r[u].width-d}s(r.filter((function(e){return e.width})))}}),[i,t,n]);var m=Object(a.useMemo)((function(){var e;return null===(e=t.closest("div"))||void 0===e?void 0:e.offsetWidth}),[t]),h=Object(a.useCallback)((function(e){var n=e.item,a=e.index;if(f[a])return f[a];return f[a]=function(e){var r=e.clientX-pt;if(r&&e.clientX){var i=t.offsetWidth+r;if(n.el&&m&&i<m){var o,c=null===(o=l.current)||void 0===o?void 0:o.querySelector("#horizontal-dragger-item-"+a);if(!c)return;var u=c.offsetWidth;u+r>vt.defaultWidth&&(c.style.width=u+r+"px");for(var s,d=[],f=!0,h=le(n.el);!(s=h()).done;){var b=s.value;if(b.offsetWidth+r<=vt.defaultWidth){f=!1;break}d.push({target:b,width:b.offsetWidth+r})}f&&d.forEach((function(e){e.target.style.width=e.width+"px"}))}pt=e.clientX}},f[a]}),[m,t,f]),b=Object(a.useCallback)((function(e,t){return function(){if(e.el){for(var a,r,c=function(){var e=r.value;o.h.setNodes(i,{width:e.offsetWidth},{at:n[1],match:function(t){return t.key===e.dataset.key}})},d=le(e.el);!(r=d()).done;)c();var f=(null===(a=l.current)||void 0===a?void 0:a.querySelector("#horizontal-dragger-item-"+t)).offsetWidth,m=Array.from(u);m[t]={width:f,el:e.el},s((function(){return m}))}}}),[u,i,n]);return r.a.createElement("div",{contentEditable:!1,className:it,ref:l},u.map((function(e,t){return r.a.createElement("div",{key:t,className:ot,style:{width:e.width+"px"},id:"horizontal-dragger-item-"+t},r.a.createElement("div",{className:ct,draggable:!0,onMouseDown:function(n){pt=n.clientX,document.body.addEventListener("dragover",h({item:e,index:t}),!1)},onDragEnd:function(){document.body.removeEventListener("dragover",h({item:e,index:t})),b(e,t)}}))})))},yt=0,Et=function(e){var t=e.table,n=e.tableNode,l=Object(a.useRef)(null),i=Object(d.d)(),c=Object(a.useState)([]),u=c[0],s=c[1],f=Object(a.useRef)({}).current;Object(a.useEffect)((function(){var e=at(i,n).gridTable,a=void 0===e?[]:e;if(a.length){for(var r=[],l=0;l<a.length;l++)for(var o=function(e){var n=a[l][e],i=t.querySelector("[data-key="+n.cell.key+"]");if(!i)return"continue";r[l]||(r[l]={height:0,el:[]}),n.isReal&&(r[l].height=r[l].height?Math.min(r[l].height,i.offsetHeight):i.offsetHeight),r[l].el.findIndex((function(e){return e.dataset.key===i.dataset.key}))<0&&r[l].el.push(i)},c=0;c<a[l].length;c++)o(c);s((function(){return r}))}}),[i,t,n]);var m=Object(a.useCallback)((function(e){var t=e.item,n=e.index;if(f[n])return f[n];return f[n]=function(e){var a=e.clientY-yt;if(a&&e.clientY){if(t.el){var r,i=vt.defaultHeight,o=null===(r=l.current)||void 0===r?void 0:r.querySelector("#vertical-dragger-item-"+n);if(!o)return;var c=o.offsetHeight;c+a>i&&(o.style.height=c+a+"px");for(var u,s=[],d=!0,f=le(t.el);!(u=f()).done;){var m=u.value;if(m.offsetHeight+a<i){d=!1;break}s.push({td:m,height:m.offsetHeight+a})}d&&s.forEach((function(e){e.td.style.height=e.height+"px"}))}yt=e.clientY}},f[n]}),[f]),h=Object(a.useCallback)((function(e,t){if(e.el){for(var a,r,c=function(){var e=r.value;o.h.setNodes(i,{height:e.offsetHeight},{at:n[1],match:function(t){return t.key===e.dataset.key}})},d=le(e.el);!(r=d()).done;)c();var f=(null===(a=l.current)||void 0===a?void 0:a.querySelector("#vertical-dragger-item-"+t)).offsetHeight,m=Array.from(u);m[t]={height:f,el:e.el},s((function(){return m}))}}),[u,i,n]);return r.a.createElement("div",{contentEditable:!1,className:ut,ref:l},u.map((function(e,t){return r.a.createElement("div",{key:t,className:ot,style:{height:e.height+"px"},id:"vertical-dragger-item-"+t},r.a.createElement("div",{className:ct,draggable:!0,onMouseDown:function(n){yt=n.clientY,document.body.addEventListener("dragover",m({item:e,index:t}),!1)},onDragEnd:function(){document.body.removeEventListener("dragover",m({item:e,index:t}),!1),h(e,t)}}))})))},wt=function(e){var t,n=e.table,l=e.children,i=e.element,c=Object(d.g)(),u=Object(d.f)(),s=Object(a.useRef)(null),f=Object(a.useCallback)((function(){s.current&&s.current.querySelectorAll("td").forEach((function(e){o.h.setNodes(c,{width:e.offsetWidth,height:e.offsetHeight},{at:[],match:function(t){return t.key===e.dataset.key}})}))}),[c]);Object(a.useEffect)((function(){f()}),[f,u,c.selection]),Object(a.useEffect)((function(){u||rt(c)}),[u,c]);var h=Object(a.useState)(""),b=h[0],v=h[1],p=Object(a.useMemo)((function(){return o.a.nodes(c,{match:function(e){return e.key===b},at:[]})[0]}),[b,c]),g=Object(a.useMemo)((function(){return u&&s.current&&n&&r.a.createElement(a.Fragment,null,r.a.createElement(gt,{table:s.current,tableNode:n}),r.a.createElement(Et,{table:s.current,tableNode:n}))}),[u,n]);return r.a.createElement(a.Fragment,null,g,r.a.createElement("table",{className:m()(st,(t={},t[bt]=!!i.borderless,t)),"slate-table-element":"table",ref:s,style:vt.tableStyle,onDragStart:function(e){return e.preventDefault()},onMouseDown:function(e){var t=e.target.closest("td"),n=(null===t||void 0===t?void 0:t.getAttribute("data-key"))||"";v(n)},onMouseMove:function(e){var t=e.target.closest("td");if(t&&b){var a=t.getAttribute("data-key"),r=o.a.nodes(c,{match:function(e){return e.key===a},at:[]})[0];!function(e,t,n,a){if(rt(e),!t)return[];var r=at(e,t),l=r.gridTable,i=r.getCol;if(!i||!l)return[];var c=i((function(t){return o.e.equals(o.a.path(e,t.originPath),n)&&t.isReal}))[0],u=i((function(t){return o.e.equals(o.a.path(e,t.originPath),a)&&t.isReal}))[0];if(!u||!c)return[];var s=u.path,d=c.path;d.forEach((function(e,t){d[t]=Math.min(e,s[t]),s[t]=Math.max(e,s[t])}));var f=[];l.forEach((function(e){e.forEach((function(e){e.path.findIndex((function(e,t){return e<d[t]||e>s[t]}))<0&&f.push(e)}))})),f.forEach((function(t){var n=t.originPath;o.h.setNodes(e,{selectedCell:!0},{at:n,match:function(e){return"table-cell"===e.type}})}))}(c,n,o.a.path(c,p[1]),o.a.path(c,r[1]))}},onMouseUp:function(){v(""),f()},onMouseLeave:function(){v("")}},r.a.createElement("tbody",{"slate-table-element":"tbody"},l)))};function Ot(e,t){var n=t.selection;if(n&&e){var a=e[1].length,r=e[1].length+1,l=at(t,e).getCol,i=o.a.edges(t,n),c=i[0],u=i[1],s=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:c})[0],d=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:u})[0];if(s&&d){var f=l((function(e){return e.cell.key===s[0].key}))[0],m=l((function(e){return e.cell.key===d[0].key}))[0],h=[f.path[a],m.path[a]],b=h[0],v=h[1],p=[f.path[r],m.path[r]],g=p[0],y=p[1],E=[],w=l((function(e){if(e.cell.selectedCell)return!0;var t=e.path.slice(a,r+1),n=t[0],i=t[1];if(n>=b&&n<=v&&i>=g&&i<=y){if(!e.isReal){var o=l((function(t){return t.isReal&&t.cell.key===e.cell.key}))[0];E.push(o)}return!0}return!1}));w.push.apply(w,E);var O=w.reduce((function(e,t){return t.isReal&&(e[t.cell.key]=t),e}),{});Object.values(O).forEach((function(e){var n=e.cell,r=e.isReal,l=e.originPath,i=n.rowspan,c=void 0===i?1:i,u=n.colspan,s=void 0===u?1:u,d=n.children;if(r&&(1!==c||1!==s)){o.h.delete(t,{at:l});for(var f=0;f<c;f++)for(var m=0;m<s;m++){var h=Array.from(l);h[a]+=f;var b=Ge({width:0,height:0,elements:0===f&&m===s-1?d[0].children:null});o.h.insertNodes(t,b,{at:h})}}}))}}}function jt(e,t){if(t.selection&&e){var n=e[1].length,a=at(t,e),r=a.gridTable,l=a.getCol,i=o.a.nodes(t,{match:function(e){return"table-cell"===e.type}})[0],c=l((function(e){return e.cell.key===i[0].key&&e.isReal}))[0],u=!0,s=c.path[n],d=new Map;if(r[s].forEach((function(e){if(e.isReal)d.set(e.cell.key,e);else{var t=l((function(t){return t.isReal&&t.cell.key===e.cell.key}))[0];if(t.path[n]!==s)return void(u=!1);d.set(t.cell.key,t)}})),u){var f=Ye(d.size);[].concat(d.values()).forEach((function(e,t){f.children[t].colspan=e.cell.colspan||1}));var m=o.a.nodes(t,{match:function(e){return"table-row"===e.type}})[0][1];o.h.insertNodes(t,f,{at:m})}}}function kt(e,t){if(t.selection&&e){var n=e[1].length,a=at(t,e),r=a.gridTable,l=a.getCol,i=o.a.nodes(t,{match:function(e){return"table-cell"===e.type}})[0],c=l((function(e){return e.cell.key===i[0].key&&e.isReal}))[0],u=!0,s=new Map,d=c.path[n]+(c.cell.rowspan||1)-1;if(r[d].forEach((function(e){var t=l((function(t){return t.isReal&&t.cell.key===e.cell.key}))[0],a=t.cell,i=t.path;if(r[d+1]){if(i[n]+(a.rowspan||1)-1!==d)return void(u=!1);s.set(a.key,t)}else s.set(a.key,t)})),u){var f=Ye(s.size);[].concat(s.values()).forEach((function(e,t){f.children[t].colspan=e.cell.colspan||1}));for(var m=o.a.nodes(t,{match:function(e){return"table-row"===e.type}})[0][1],h=1;h<i[0].rowspan;h++)m[n]+=1;o.h.insertNodes(t,f,{at:o.e.next(m)})}}}function xt(e,t){if(t.selection&&e){var n=e[1].length+1,a=at(t,e),r=a.gridTable,l=a.getCol,i=o.a.nodes(t,{match:function(e){return"table-cell"===e.type}})[0],c=l((function(e){return e.cell.key===i[0].key&&e.isReal}))[0].path[n],u=new Map,s=!0;r.forEach((function(e){var t=e[c];if(t.isReal)u.set(t.cell.key,t);else{var a=l((function(e){return e.cell.key===t.cell.key&&e.isReal}))[0],r=a.cell;if(a.path[n]!==c)return void(s=!1);u.set(r.key,a)}})),s&&u.forEach((function(e){var n=Ge({rowspan:e.cell.rowspan||1});o.h.insertNodes(t,n,{at:e.originPath})}))}}function Nt(e,t){if(t.selection&&e){var n=e[1].length+1,a=at(t,e),r=a.gridTable,l=a.getCol,i=o.a.nodes(t,{match:function(e){return"table-cell"===e.type}})[0],c=l((function(e){return e.cell.key===i[0].key&&e.isReal}))[0],u=c.path[n]+(c.cell.colspan||1)-1,s=new Map,d=!0;r.forEach((function(e){var t=e[u],a=l((function(e){return e.cell.key===t.cell.key&&e.isReal}))[0],r=a.cell,i=a.path;if(e[u+1]&&(!t.isReal||t.cell.colspan&&1!==t.cell.colspan)){if(i[n]+(r.colspan||1)-1!==u)return void(d=!1);s.set(r.key,a)}else s.set(r.key,a)})),d&&s.forEach((function(e){var n=Ge({rowspan:e.cell.rowspan||1});o.h.insertNodes(t,n,{at:o.e.next(e.originPath)})}))}}function Ct(e,t){if(e&&t.selection){var n=o.a.start(t,t.selection),a=o.a.nodes(t,{match:function(e){return e.selectedCell},at:n})[0];if(a){var r=at(t,e,a[0].key).gridTable,l=function(e){var t=0,n=e.reduce((function(e,n){var a=n.filter((function(e){return e.cell.selectedCell}));return a.length&&(e.push(a),t+=a.length),e}),[]);if(t<2)return;var a=n[0].length,r=!0;if(n.forEach((function(e){e.length!==a&&(r=!1)})),!r)return;return n}(r);if(l){var i=l[0][0],c={};r.forEach((function(n){n.forEach((function(n){if(n.cell.selectedCell&&n.cell.key!==i.cell.key&&n.isReal){var a=o.a.nodes(t,{match:function(e){return e.key===n.cell.key},at:[]})[0];a&&(o.a.string(t,a[1])&&(c[n.cell.key]=a[0].children),o.h.removeNodes(t,{at:e[1],match:function(e){return e.key===n.cell.key}}))}}))})),o.h.setNodes(t,{height:0,width:0,colspan:l[0].length,rowspan:l.length},{at:e[1],match:function(e){return e.key===i.cell.key}}),o.h.removeNodes(t,{at:e[1],match:function(e){return"table-row"===e.type&&(!e.children||e.children.findIndex((function(e){return"table-cell"===e.type}))<0)}});for(var u,s=function(){var n=u.value,a=1/0;n[0].children.forEach((function(e){var t=e.rowspan,n=void 0===t?1:t;n<a&&(a=n)})),a>1&&a<1/0&&n[0].children.forEach((function(n){o.h.setNodes(t,{height:0,width:0,rowspan:(n.rowspan||1)-a+1},{at:e[1],match:function(e){return e.key===n.key}})}))},d=le(o.a.nodes(t,{at:e[1],match:function(e){return"table-row"===e.type}}));!(u=d()).done;)s();for(var f=at(t,e).gridTable,m=0;m<f[0].length;m++){for(var h=!0,b=1/0,v=0;v<f.length;v++)if(f[v][m])if(f[v][m].isReal){var p=f[v][m].cell.colspan,g=void 0===p?1:p;g<b&&(b=g)}else h=!1;if(h&&b<1/0&&b>1)for(var y=function(n){var a=f[n][m].cell;o.h.setNodes(t,{height:0,width:0,colspan:(a.colspan||1)-b+1},{at:e[1],match:function(e){return e.key===a.key}})},E=0;E<f.length;E++)y(E)}var w=o.a.nodes(t,{at:i.originPath,match:function(e){return"table-content"===e.type}})[0];Object.values(c).forEach((function(e){e[0]&&e[0].children&&o.h.insertNodes(t,e[0].children,{at:o.a.end(t,w[1])})}))}}}}function Rt(e,t){var n=t.selection;if(n&&e){var a=at(t,e),r=a.gridTable,l=a.getCol,i=e[1].length+1,c=o.a.edges(t,n),u=c[0],s=c[1],d=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:u})[0],f=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:s})[0],m=l((function(e){return e.cell.key===d[0].key}))[0],h=l((function(e){return e.cell.key===f[0].key}))[0],b=m.path[i],v=h.path[i],p=r[0][b],g=r[r.length-1][v];o.h.setSelection(t,{anchor:o.a.point(t,p.originPath),focus:o.a.point(t,g.originPath)}),Ot(e,t),at(t,e).gridTable.reduce((function(e,t){var n=t.slice(b,v+1);return[].concat(e,n)}),[]).forEach((function(n){o.h.removeNodes(t,{at:e[1],match:function(e){return e.key===n.cell.key}})})),o.h.removeNodes(t,{at:e[1],match:function(e){return"table-row"===e.type&&(!e.children||e.children.findIndex((function(e){return"table-cell"===e.type}))<0)}});for(var y,E=function(){var n=y.value,a=1/0;n[0].children.forEach((function(e){var t=e.rowspan,n=void 0===t?1:t;n<a&&(a=n)})),a>1&&a<1/0&&n[0].children.forEach((function(n){o.h.setNodes(t,{rowspan:(n.rowspan||1)-a+1},{at:e[1],match:function(e){return e.key===n.key}})}))},w=le(o.a.nodes(t,{at:e[1],match:function(e){return"table-row"===e.type}}));!(y=w()).done;)E();var O=at(t,e).gridTable;if(O.length)for(var j=0;j<O[0].length;j++){for(var k=!0,x=1/0,N=0;N<O.length;N++)if(O[N][j].isReal){var C=O[N][j].cell.colspan,R=void 0===C?1:C;R<x&&(x=R)}else k=!1;if(k&&x<1/0&&x>1)for(var S=function(n){var a=O[n][j].cell;o.h.setNodes(t,{colspan:(a.colspan||1)-x+1},{at:e[1],match:function(e){return e.key===a.key}})},M=0;M<O.length;M++)S(M)}else o.a.string(t,e[1])||o.h.removeNodes(t,{at:e[1]})}}function St(e,t){var n=t.selection;if(n&&e){var a=at(t,e),r=a.gridTable,l=a.getCol,i=e[1].length,c=o.a.edges(t,n),u=c[0],s=c[1],d=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:u})[0],f=o.a.nodes(t,{match:function(e){return"table-cell"===e.type},at:s})[0],m=l((function(e){return e.cell.key===d[0].key}))[0],h=l((function(e){return e.cell.key===f[0].key}))[0],b=m.path[i],v=h.path[i],p=r[b][0],g=r[v][r[v].length-1];o.h.setSelection(t,{anchor:o.a.point(t,p.originPath),focus:o.a.point(t,g.originPath)}),Ot(e,t),at(t,e).gridTable.slice(b,v+1).reduce((function(e,t){return[].concat(e,t)}),[]).forEach((function(n){o.h.removeNodes(t,{at:e[1],match:function(e){return e.key===n.cell.key}})})),o.h.removeNodes(t,{at:e[1],match:function(e){return"table-row"===e.type&&(!e.children||e.children.findIndex((function(e){return"table-cell"===e.type}))<0)}}),o.a.string(t,e[1])||o.h.removeNodes(t,{at:e[1]})}}function Mt(e,t){t&&e&&o.h.removeNodes(t,{match:function(e){return"table"===e.type},at:e[1]})}function Pt(e,t){t&&e&&o.h.setNodes(t,{borderless:!e[0].borderless},{match:function(e){return"table"===e.type},at:e[1]})}function At(e){void 0===e&&(e=!1);var t=Object(a.useState)(e),n=t[0],r=t[1],l=Object(a.useCallback)((function(){r(!0)}),[]),i=Object(a.useCallback)((function(){r(!1)}),[]),o=Object(a.useCallback)((function(){r((function(e){return!e}))}),[]);return Object(a.useMemo)((function(){return{visible:n,open:l,close:i,toggle:o}}),[i,l,o,n])}function Dt(){return Object(d.g)()}function It(){return function(e){var t=Ie(e);return null===t||void 0===t?void 0:t.alignment}(Dt())}function Ft(e){return Object(a.useCallback)((function(t){null===t||void 0===t||t.preventDefault(),null===e||void 0===e||e()}),[e])}function Tt(){return Object(a.useContext)($e)}var Vt=Object(a.memo)((function(e){var t=e.children,n=e.className,l=Ft(e.onPress);return r.a.createElement("figure",{onMouseDown:l,className:m()("flex-shrink-0",n,{"s-16":!/\bs-[0-9]/gi.test(n)})},a.Children.map(t,(function(e){return Object(a.cloneElement)(e,{className:m()(e.props.className,"h-full w-full object-contain object-center m-auto pointer-events-none")})})))})),qt="_2C9lI",Lt=Object(a.forwardRef)((function(e,t){var n,a=e.active,l=e.data,i=e.disabled,o=e.className,c=e.children,u=e.onPress,s=e.tip,d=Ft((function(){null===u||void 0===u||u(l)}));return r.a.createElement("div",{ref:t,className:m()("s-32 rounded-default bg-transparent cursor-pointer flex items-center justify-center transition-colors duration-250 hover:bg-blue-100 hover:text-blue-500",(n={"text-blue-500 bg-blue-highlight":a,"pointer-events-none opacity-50":i},n[qt]=!(null===s||void 0===s||!s.length),n),o),"data-tip":s,onMouseDown:d},r.a.createElement(Vt,{className:"s-20"},c))})),Ht=function(e){var t=e.className,n=e.children;return r.a.createElement("div",{className:m()("flex items-center space-x-4",t)},n)};Ht.defaultProps={className:"px-16"};var Bt="_2nYts",_t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return function(t){return t&&t.preventDefault(),e.apply(void 0,n)}},Wt=function(e){return r.a.createElement("div",{className:m()(Bt,e.className)},r.a.createElement(Ht,{className:"px-0 text-gray-500 bg-blue-50 rounded-default"},e.children,e.delete&&r.a.createElement(Lt,{onPress:_t(e.delete),tip:"Delete table"},r.a.createElement(x.AiOutlineDelete,null))))},zt=function(e){var t=Object(d.g)(),n=Array.from(o.a.nodes(t,{match:function(e){return"table"===e.type}}))[0],a=function(e){return function(){return e(n,t)}};return r.a.createElement(Wt,{className:m()(e.className,lt),delete:a(Mt)},r.a.createElement(Lt,{onPress:a(jt),tip:"Insert row above"},r.a.createElement(y.AiOutlineInsertRowAbove,null)),r.a.createElement(Lt,{onPress:a(kt),tip:"Insert row below"},r.a.createElement(E.AiOutlineInsertRowBelow,null)),r.a.createElement(Lt,{onPress:a(xt),tip:"Insert column left"},r.a.createElement(w.AiOutlineInsertRowLeft,null)),r.a.createElement(Lt,{onPress:a(Nt),tip:"Insert column right"},r.a.createElement(O.AiOutlineInsertRowRight,null)),r.a.createElement(Lt,{onPress:a(Ct),tip:"Merge selection"},r.a.createElement(j.AiOutlineMergeCells,null)),r.a.createElement(Lt,{onPress:a(Rt),tip:"Remove column"},r.a.createElement(p.AiOutlineDeleteColumn,null)),r.a.createElement(Lt,{onPress:a(St),tip:"Remove row"},r.a.createElement(g.AiOutlineDeleteRow,null)),r.a.createElement(Lt,{onPress:a(Ot),tip:"Split cell"},r.a.createElement(k.AiOutlineSplitCells,null)),r.a.createElement(Lt,{active:!!n&&!(null!==n&&void 0!==n&&n[0].borderless),onPress:a(Pt),tip:"Toggle borders"},r.a.createElement(v.AiOutlineBorderInner,null)))},Ut=function(e){var t,n=e.attributes,a=e.node,l=e.dataKey,i=e.children,o=a.selectedCell;return r.a.createElement("td",Object.assign({},n,{className:m()(ft,(t={},t[mt]=o,t)),"slate-table-element":"td","data-key":l,colSpan:a.colspan,rowSpan:a.rowspan,onDragStart:function(e){return e.preventDefault()},style:{position:"relative",minWidth:"50px",width:a.width?a.width+"px":"auto",height:a.width?a.height+"px":"auto"}}),i)},Jt=function(e){var t=e.attributes,n=e.children,a=e.element,l=Object(d.f)(),i=Object(d.d)();switch(a.type){case"table":var c=!1,u=null;if(l&&i.selection)if(u=o.a.nodes(i,{match:function(e){return"table"===e.type},at:o.a.path(i,i.selection)})[0])o.a.nodes(i,{at:o.a.range(i,u[1]),match:function(e){return e.selectedCell}})[0]&&(c=!0);return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(zt,{className:m()({selected:l||c})}),r.a.createElement(wt,Object.assign({},e,{table:u}),n));case"table-row":return r.a.createElement("tr",Object.assign({},t,{className:dt,"slate-table-element":"tr","data-key":a.key,onDrag:function(e){return e.preventDefault()}}),n);case"table-cell":return r.a.createElement(Ut,Object.assign({},e,{dataKey:a.key,node:n.props.node}),n);case"table-content":return r.a.createElement("div",{"slate-table-element":"content",className:ht},n);default:return r.a.createElement("p",Object.assign({},e))}},Xt=function(e){var t=e.attributes,n=e.children,a=e.element,l=a.type,i=a.url,o=a.alignment,c=a.indentation,u=a.dataType;switch(l){default:return r.a.createElement("p",Object.assign({},De(Ae(t,o),{paddingLeft:Te(c)})),n);case"quote":return r.a.createElement("blockquote",Object.assign({},t),n);case"code":return r.a.createElement("pre",null,r.a.createElement("code",Object.assign({},t),n));case"bulleted-list":return r.a.createElement("ul",Object.assign({},Ae(t,o,"list-disc list-inside")),n);case"heading-one":return r.a.createElement("h1",Object.assign({},De(Ae(t,o,"text-heading-2"),{paddingLeft:Te(c)})),n);case"heading-two":return r.a.createElement("h2",Object.assign({},De(Ae(t,o,"text-heading-3"),{paddingLeft:Te(c)})),n);case"heading-three":return r.a.createElement("h3",Object.assign({},(De(Ae(t,o,"text-headline")),{paddingLeft:Te(c)})),n);case"heading-four":return r.a.createElement("h4",Object.assign({},t),n);case"heading-five":return r.a.createElement("h5",Object.assign({},t),n);case"heading-six":return r.a.createElement("h6",Object.assign({},t),n);case"list-item":return r.a.createElement("li",Object.assign({},De(t,{paddingLeft:Te(c)})),n);case"numbered-list":return r.a.createElement("ol",Object.assign({},Ae(t,o,"list-decimal list-inside")),n);case"link":return r.a.createElement("a",Object.assign({href:i},t),n);case"table":case"table-row":case"table-cell":case"table-content":return r.a.createElement(Jt,Object.assign({},{attributes:t,children:n,element:a}));case"image":return r.a.createElement(tt,Object.assign({},{attributes:t,children:n,element:a}));case"editable":return"image"===u?r.a.createElement(tt,Object.assign({},{attributes:t,children:n,element:a})):r.a.createElement(nt,Object.assign({},{attributes:t,children:n,element:a}))}},Gt=function(e){var t=e.attributes,n=e.children,a=e.leaf;return a.bold&&(n=r.a.createElement("strong",null,n)),a.code&&(n=r.a.createElement("code",null,n)),a.italic&&(n=r.a.createElement("em",null,n)),a.underline&&(n=r.a.createElement("u",null,n)),a.strikethrough&&(n=r.a.createElement("del",null,n)),r.a.createElement("span",Object.assign({},Pe(De(t,{color:a.color}),m()({"bg-green-highlight":pe(a.ref)}))),n)};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Yt={container:"_hlJwR",arrow:"_NQvFm"},Kt=function(e){var t=e.onLayoutUpdate,n=e.children,l=e.x,i=e.y,o=e.position,c=e.alignment,u=e.className,s=e.hideArrow,d=Object(a.useState)({x:l,y:i}),f=d[0],h=d[1];Object(a.useLayoutEffect)((function(){var e=document.querySelector("."+Yt.container).getBoundingClientRect(),n={width:e.width,height:e.height,x:e.x,y:e.y};JSON.stringify(n)!==JSON.stringify(f)&&(h(n),t(n))}),[f,t]);var b=Yt.container;return s||(b+=" "+Yt.arrow+" "+Yt["arrow"+o]+" "+Yt["arrow"+c]),r.a.createElement("div",{className:m()(b,"shadow-6",u),style:{top:i,left:l}},n)};Kt.defaultProps={x:0,y:0};var Qt=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},Zt=function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},$t=function(e,t,n){var a,r,l=Qt(),i=Zt(),o=e.width,c=e.height;switch(t){case"up":r=0;break;case"down":r=i-c;break;case"center":r=(i-c)/2;break;default:r=0}switch(n){case"start":a=0;break;case"center":a=(l-o)/2;break;case"end":a=l-o;break;default:a=0}return{x:a,y:r}},en=function(e,t,n,a,r,l,i){var o,c=e.width,u=e.height,s=Qt(),d=Zt();if(o=t||n?function(e,t,n,a,r,l){var i=n.current||document.querySelector(t);if(!i)return $t(e,r,l);var o,c,u=i.getBoundingClientRect(),s=u.width,d=u.height,f=u.x,m=u.y,h=e.width,b=e.height;if("up"===r)switch(c=m-b-a,l){case"start":o=f;break;case"center":o=f+s/2-h/2;break;case"end":o=f+s-h}if("down"===r)switch(c=m+d+a,l){case"start":o=f;break;case"center":o=f+s/2-h/2;break;case"end":o=f+s-h}if("left"===r)switch(o=f-h-a,l){case"start":c=m;break;case"center":c=m+d/2-b/2;break;case"end":c=m+d-b}if("right"===r)switch(o=f+s+a,l){case"start":c=m;break;case"center":c=m+d/2-b/2;break;case"end":c=m+d-b}return{x:o,y:c}}(e,t,n,a,r,l):$t(e,r,l),i){var f=i.x||0,m=i.y||0;o.x=o.x+f,o.y=o.y+m}var h=s-c,b=d-u;return o.x<=12&&(o.x=12),o.y<=12&&(o.y=12),o.x>=h&&(o.x=h),o.y>=b&&(o.y=b),o},tn=function(e){var t=e.anchor,n=e.anchorRef,l=e.children,i=e.contentClassName,o=e.position,c=e.alignment,u=e.transparent,s=e.distance,d=e.offsets,f=e.isVisible,m=e.hideArrow,h=e.overlayCloseOnClick,b=e.onRequestClose,v=Object(a.useState)({x:0,y:0}),p=v[0],g=v[1],y=Ft((function(){h&&b()})),E=Object(a.useCallback)((function(e){"Escape"===e.key&&f&&b()}),[f,b]);Object(a.useEffect)((function(){return document.addEventListener("keyup",E),function(){document.removeEventListener("keyup",E)}}),[f,E]);return f?r.a.createElement("div",{className:"fixed top-0 left-0 w-full h-full z-2"},r.a.createElement("div",{className:u?"w-full h-full absolute top-0 left-0 z-0":"w-full h-full absolute top-0 left-0 z-0 bg-blue-800 opacity-50",onMouseDown:y}),r.a.createElement(Kt,{className:i,x:p.x,y:p.y,position:o,alignment:c,hideArrow:!n&&!t||m,onLayoutUpdate:function(e){return g(en(e,t,n,s,o,c,d))}},l)):null};tn.defaultProps={position:"center",alignment:"center",transparent:!1,distance:10,overlayCloseOnClick:!0,hideArrow:!1,isVisible:!1};var nn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.onRequestClose,i=e.onSubmitEditing,o=Object(a.useState)(""),c=o[0],u=o[1],s=Object(a.useState)("100"),d=s[0],f=s[1],m=Object(a.useState)(),h=m[0],b=m[1],v=Object(a.useMemo)((function(){var e=parseFloat(d);return(isNaN(e)||e<1?1:e)/100}),[d]),p=Object(a.useCallback)((function(e){u(e.target.value)}),[]),g=Object(a.useCallback)((function(e){f(e.target.value)}),[]),y=Object(a.useCallback)((function(){try{if(null===c||void 0===c||!c.length)return b(null),Promise.resolve();var e=function(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}((function(){return Promise.resolve((e=c,e?new Promise((function(t){var n=document.createElement("img");n.onload=function(){t({width:n.naturalWidth,height:n.naturalHeight})},n.onerror=function(){t(null)},n.src=e})):null)).then((function(e){b(e)}));var e}),(function(){b(null)}));return Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}),[c]),E=Object(a.useCallback)((function(){u(""),f("100"),b(null),null===l||void 0===l||l()}),[l]),w=Object(a.useCallback)((function(){null===i||void 0===i||i({url:c,dimensions:{width:h.width*v,height:h.height*v}}),E()}),[v,E,h,c,i]);return r.a.createElement(tn,{position:"down",alignment:"start",isVisible:n,onRequestClose:E,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default p-8 w-296 bg-white border border-gray-300 overflow-hidden text-gray-500"},r.a.createElement("div",{className:"flex items-center justify-between space-x-4 mb-8"},r.a.createElement("div",{className:"h-32 flex-1 overflow-hidden rounded-default border border-gray-200 flex items-center justify-start"},r.a.createElement("div",{className:"flex s-32 rounded-default rounded-r-none rounded-b-none bg-gray-200 text-gray-500 items-center justify-center font-semibold"},r.a.createElement(Vt,null,r.a.createElement(N.BiLink,null))),r.a.createElement("input",{className:"border-none h-full px-6 bg-transparent font-medium flex-1 min-w-0",type:"text",placeholder:"https://www...",value:c,onChange:p,onBlur:y})),r.a.createElement("div",{className:"h-32 overflow-hidden rounded-default border border-gray-200 flex items-center justify-start"},r.a.createElement("input",{maxLength:3,className:"border-none h-full w-40 px-6 bg-transparent font-medium m-0",placeholder:"0",value:d,onChange:g}),r.a.createElement("div",{className:"flex s-32 bg-transparent text-gray-300 items-center justify-center font-semibold"},"%"))),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement(Ke,{disabled:ve(h),className:"h-32",onPress:w},"Insert"))))},an="_3hvH2",rn="_1zGsS",ln="_3QHJf",on=Object(a.memo)((function(e){var t,n=e.active,a=e.color,l=e.onPress,i=Ft((function(){null===l||void 0===l||l(a)}));return r.a.createElement("div",{style:{color:a},onMouseDown:i,title:a,className:m()("s-32 rounded-default bg-current cursor-pointer transition-shadow duration-250",an,(t={},t[rn]=n,t))})})),cn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.value,i=e.onChangeColorOption,o=e.onRequestClose,c=Object(a.useState)(""),u=c[0],s=c[1],d=Object(a.useCallback)((function(e){if(we(e)){var t=Oe(l,e)?null:e;s(null===t||void 0===t?void 0:t.replaceAll("#","")),null===i||void 0===i||i(t),null===o||void 0===o||o()}}),[i,o,l]),f=Object(a.useCallback)((function(e){var t=e.target.value,n=null!==t&&void 0!==t&&t.length?"#"+t.replace("#",""):null;s(e.target.value),we(n)&&(null===i||void 0===i||i(n,!1))}),[i]);return r.a.createElement(tn,{position:"down",alignment:"start",isVisible:n,onRequestClose:o,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default grid grid-cols-7 gap-6 p-8 bg-white border border-gray-300 overflow-hidden text-gray-500"},ce.map((function(e){return r.a.createElement(on,{color:e,key:e,onPress:d,active:Oe(l,e)})})),r.a.createElement("div",{className:"h-32 col-span-4 overflow-hidden rounded-default border border-gray-200 flex items-center justify-start"},r.a.createElement("div",{className:"flex s-32 rounded-default rounded-r-none rounded-b-none bg-gray-200 text-gray-500 items-center justify-center font-semibold"},"#"),r.a.createElement("input",{maxLength:6,className:m()("border-none h-full px-6 bg-transparent font-medium",ln),type:"text",placeholder:null===l||void 0===l?void 0:l.replace("#",""),value:u,onChange:f}))))},un=function(e){var t=e.className,n=e.children,l=e.label;return r.a.createElement("div",{className:t},!(null===l||void 0===l||!l.length)&&r.a.createElement("label",{className:"text-blue-500 block mb-4 text-subhead font-medium"},l),a.Children.map(n,(function(e){return Object(a.cloneElement)(e,{className:m()(e.props.className,"w-full appearance-none border border-gray-200 rounded-default h-32 px-8 transition:colors transition:shadow duration-250 focus:border-blue-500 focus:shadow-outline")})})))},sn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.onRequestClose,i=e.onSubmitEditing,o=Dt(),c=Tt()[0],u=ze(o,(function(e){var t;return"editable"===e.type&&!(null!==(t=e.valueRef)&&void 0!==t&&t.length)&&["options","radio"].includes(e.dataType)})).concat(c).map((function(e){return e})),s=Object(a.useState)(""),d=s[0],f=s[1],m=Object(a.useState)(""),h=m[0],b=m[1],v=Object(a.useMemo)((function(){var e;return(null===(e=u.find((function(e){return e.id===d})))||void 0===e?void 0:e.options)||[]}),[u,d]),p=!(null===d||void 0===d||!d.length)&&!(null===h||void 0===h||!h.length),g=Object(a.useCallback)((function(e){var t=e.target.value;t!==d&&(f(t),b(""))}),[d]),y=Object(a.useCallback)((function(e){var t=e.target.value;t!==h&&b(t)}),[h]),E=Object(a.useCallback)((function(){f(""),b(""),null===l||void 0===l||l()}),[l]),w=Object(a.useCallback)((function(){null===i||void 0===i||i({parent:d,value:h}),E()}),[E,i,d,h]);return r.a.createElement(tn,{position:"down",alignment:"start",isVisible:n,onRequestClose:E,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default p-8 space-y-8 w-320 bg-white border border-gray-300 overflow-hidden text-gray-500"},r.a.createElement(un,{label:"Only show when..."},r.a.createElement("select",{value:d,onChange:g},r.a.createElement("option",{hidden:!0,value:""},"Choose one"),u.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.defaultValue,"(",e.label,")")})))),r.a.createElement(un,{label:"equals..."},r.a.createElement("select",{value:h,onChange:y},r.a.createElement("option",{hidden:!0,value:""},"Choose one"),v.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.label)})))),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement(Ke,{disabled:!p,className:"h-32",onPress:w},"Add condition"))))},dn=Object(a.memo)((function(e){var t=e.className,n=e.value,a=e.options,l=e.onChangeValue;return r.a.createElement("div",{className:m()("bg-gray-100 rounded-full p-4 w-296 h-40 flex items-center relative",t)},r.a.createElement("div",{className:"absolute bg-gray-500 rounded-full z-0 top-4 h-32 transition-all duration-500",style:{width:144,left:144*n+4}}),a.map((function(e,t){return r.a.createElement("div",{className:m()("font-medium flex-1 flex items-center justify-center relative z-1 cursor-pointer transition-colors duration-500",{"text-gray-500 hover:text-gray-700":n!==t,"text-white":n===t}),key:t,onMouseDown:function(e){return function(e,t){e.preventDefault(),null===l||void 0===l||l(t)}(e,t)}},e)})))})),fn=function(e){var t=e.onSubmit,n=Dt(),l=Object(a.useMemo)((function(){return ze(n,(function(e){var t;return"editable"===e.type&&!(null!==(t=e.valueRef)&&void 0!==t&&t.length)})).map((function(e){return e}))}),[n]),i=Object(a.useState)(""),o=i[0],c=i[1],u=Object(a.useState)(""),s=u[0],d=u[1],f=Object(a.useMemo)((function(){var e;return null===l||void 0===l||null===(e=l.find((function(e){return e.id===o})))||void 0===e?void 0:e.dataType}),[l,o]),m=Object(a.useMemo)((function(){return We({valueRef:o,defaultValue:s,dataType:f},!1,!0)}),[f,s,o]),h=Object(a.useCallback)((function(e){var t,n=e.target.value;n!==o&&(c(n),d((null===(t=l.find((function(e){return e.id===n})))||void 0===t?void 0:t.defaultValue)||""))}),[l,o]),b=Object(a.useCallback)((function(e){d(e.target.value)}),[]),v=Object(a.useCallback)((function(){var e=_e({valueRef:o,defaultValue:s,dataType:f});null===t||void 0===t||t(e)}),[f,s,t,o]);return r.a.createElement("div",null,r.a.createElement(un,{label:"Copy from",className:"mb-18"},r.a.createElement("select",{value:o,onChange:h},r.a.createElement("option",{hidden:!0,value:""},"Choose one"),l.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.defaultValue,"(",e.label,")")})))),r.a.createElement(un,{label:"Default value",className:"mb-18"},r.a.createElement("input",{value:s,onChange:b,placeholder:"Default"})),r.a.createElement("div",{className:"flex justify-end pt-24"},r.a.createElement(Ke,{disabled:!m,className:"h-32",onPress:v},"Insert")))},mn=Object(a.memo)((function(e){var t=e.className,n=e.value,a=e.onChangeValue;return r.a.createElement(S.a,{checked:n,className:t,onChange:a,offColor:"#ADC5FA",onColor:"#326FF3",checkedIcon:!1,uncheckedIcon:!1,handleDiameter:18,height:22,width:44,activeBoxShadow:"0 0 0 4px rgba(103, 126, 138, 0.125)"})})),hn=function(e){var t=e.onSubmit,n=Object(a.useRef)(new Date).current,l=Object(a.useRef)(Object.entries(me)).current,i=Object(a.useRef)(he).current,o=Object(a.useRef)(be).current,c=Object(a.useState)(""),u=c[0],s=c[1],d=Object(a.useState)(""),f=d[0],m=d[1],h=Object(a.useState)(""),b=h[0],v=h[1],p=Object(a.useState)(""),g=p[0],y=p[1],E=Object(a.useState)(!1),w=E[0],O=E[1],j=Object(a.useState)([]),k=j[0],x=j[1],N=Object(a.useState)(""),C=N[0],R=N[1],S=Object(a.useState)(!1),A=S[0],D=S[1],I=Object(a.useState)(!1),F=I[0],T=I[1],V=Object(a.useState)(""),q=V[0],L=V[1],H=Object(a.useMemo)((function(){return We({dataType:u,dateTimeFormat:b,defaultValue:f,label:g,options:k,tip:q},A)}),[u,b,f,g,k,A,q]),B=Object(a.useCallback)((function(e){var t=[].concat(k),n=t.findIndex((function(t){return t.id===e}));~n&&(t.splice(n,1),x(t))}),[k]),_=Object(a.useCallback)((function(){var e=null===C||void 0===C?void 0:C.trim();if(null!==e&&void 0!==e&&e.length){var t=je();x((function(n){return[].concat(n,[{id:t,label:e}])})),R("")}}),[C]),W=Object(a.useCallback)((function(e){var t;"enter"===(null===(t=e.key)||void 0===t?void 0:t.toLowerCase())&&(e.preventDefault(),_())}),[_]),z=Object(a.useCallback)((function(){var e=_e({dataType:u,dateTimeFormat:b,multiline:w,defaultValue:f,label:g,options:k,tip:q},A);null===t||void 0===t||t(e,F)}),[u,b,f,F,g,w,t,k,A,q]),U=Object(a.useCallback)((function(e){var t=e.target.value;t!==u&&(s(t),"date"!==t&&"time"!==t||v(""))}),[u]),J=Object(a.useCallback)((function(e){v(e.target.value)}),[]),X=Object(a.useCallback)((function(e){R(e.target.value)}),[]),G=Object(a.useCallback)((function(e){y(e.target.value)}),[]),Y=Object(a.useCallback)((function(e){m(e.target.value)}),[]),K=Object(a.useCallback)((function(e){L(e.target.value)}),[]);return r.a.createElement("div",null,r.a.createElement("div",{className:"flex items-end space-x-12 mb-18"},r.a.createElement(un,{label:"Type",className:"flex-1"},r.a.createElement("select",{value:u,onChange:U},r.a.createElement("option",{hidden:!0,value:""},"Choose one"),l.map((function(e){var t=e[0],n=e[1];return r.a.createElement("option",{key:t,value:t},n)})))),"text"===u&&r.a.createElement("div",{className:"flex flex-1 justify-start items-center space-x-8 pb-6"},r.a.createElement("div",null,"Multiline"),r.a.createElement(mn,{value:w,onChangeValue:O})),"date"===u&&r.a.createElement(un,{label:"Date format"},r.a.createElement("select",{value:b,onChange:J},r.a.createElement("option",{hidden:!0,value:""},"Choose a format"),i.map((function(e){return r.a.createElement("option",{key:e,value:e},Ee(n,e))})))),"time"===u&&r.a.createElement(un,{label:"Time format"},r.a.createElement("select",{value:b,onChange:J},r.a.createElement("option",{hidden:!0,value:""},"Choose a format"),o.map((function(e){return r.a.createElement("option",{key:e,value:e},Ee(n,e))}))))),["radio","options"].includes(u)&&r.a.createElement("div",{className:"mb-18"},r.a.createElement("div",{className:"text-blue-500 block mb-4 text-subhead font-medium"},"Options"),r.a.createElement("div",{className:"space-y-6"},null===k||void 0===k?void 0:k.map((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return B(e.id)},className:"flex items-center justify-between px-8 h-32 w-full border border-gray-200 bg-gray-100 rounded-default"},r.a.createElement("span",{className:"text-gray-500"},e.label),r.a.createElement(Vt,{className:"cursor-pointer text-gray-500 transition-colors duration-250"},r.a.createElement(M.FaRegTrashAlt,null)))})),r.a.createElement("div",{className:"flex items-center justify-between px-8 h-32 w-full border border-gray-200 rounded-default transition:colors transition:shadow duration-250 focus-within:shadow-outline focus-within:border-blue-500"},r.a.createElement("input",{value:C,className:"border-none h-full w-full bg-transparent m-0",placeholder:"+ Add an option",onChange:X,onKeyDown:W}),r.a.createElement(Vt,{onPress:_,className:"cursor-pointer text-blue-500 transition-colors duration-250 hover:text-blue-600"},r.a.createElement(P.AiFillPlusCircle,null))))),r.a.createElement(un,{label:"Label",className:"mb-18"},r.a.createElement("input",{value:g,onChange:G,placeholder:"Question label"})),r.a.createElement(un,{label:"Default value",className:"mb-18"},r.a.createElement("input",{value:f,onChange:Y,placeholder:"Default"})),r.a.createElement("div",{className:"flex flex-1 justify-between items-center mb-18"},r.a.createElement("div",null,"Show description"),r.a.createElement(mn,{value:A,onChangeValue:D})),A&&r.a.createElement(un,{label:"Description",className:"mb-18"},r.a.createElement("input",{value:q,onChange:K,placeholder:"Lorem ipsum..."})),r.a.createElement("div",{className:"flex flex-1 justify-between items-center mb-18"},r.a.createElement("div",null,"Save in Icebox"),r.a.createElement(mn,{value:F,onChangeValue:T})),r.a.createElement("div",{className:"flex justify-end pt-24"},r.a.createElement(Ke,{disabled:!H,onPress:z,className:"h-32"},"Insert")))},bn=function(e){var t=e.isVisible,n=e.onRequestClose,l=e.onSubmit,i=Object(a.useState)(0),o=i[0],c=i[1],u=Object(a.useCallback)((function(e,t){void 0===t&&(t=!1),null===l||void 0===l||l(e,t),null===n||void 0===n||n(),c(0)}),[n,l]);return r.a.createElement(tn,{position:"center",alignment:"center",isVisible:t,onRequestClose:n,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default w-480 py-12 px-16 bg-white border border-gray-300 overflow-hidden"},r.a.createElement("div",{className:"flex items-center justify-center mb-28"},r.a.createElement(dn,{value:o,onChangeValue:c,options:["Create new","Copy existing"]})),0===o&&r.a.createElement(hn,{onSubmit:u}),1===o&&r.a.createElement(fn,{onSubmit:u})))},vn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.onRequestClose,i=e.onSubmitEditing,o=Object(a.useState)(100),c=o[0],u=o[1],s=Object(a.useState)(100),d=s[0],f=s[1],m=Object(a.useState)(""),h=m[0],b=m[1],v=pe(c)&&pe(d)&&!(null===h||void 0===h||!h.length)&&c*d>0,p=Object(a.useCallback)((function(e){u(ye(e.target.value))}),[]),g=Object(a.useCallback)((function(e){f(ye(e.target.value))}),[]),y=Object(a.useCallback)((function(e){b(e.target.value)}),[]),E=Object(a.useCallback)((function(){u(100),f(100),null===l||void 0===l||l()}),[l]),w=Object(a.useCallback)((function(){null===i||void 0===i||i({width:c,height:d},h),E()}),[E,d,h,i,c]);return r.a.createElement(tn,{position:"down",alignment:"start",isVisible:n,onRequestClose:E,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default p-8 bg-white border border-gray-300 overflow-hidden text-gray-500"},r.a.createElement("div",null,r.a.createElement(un,{label:"Label",className:"mb-8"},r.a.createElement("input",{value:h,onChange:y,placeholder:"Image upload label"}))),r.a.createElement("span",{className:"text-blue-500 block mb-4 text-subhead font-medium"},"Dimensions"),r.a.createElement("div",{className:"flex items-center justify-between space-x-4 mb-8"},r.a.createElement("div",{className:"h-32 overflow-hidden rounded-default border border-gray-200 flex items-center justify-start"},r.a.createElement("input",{className:"border-none h-full w-40 px-6 bg-transparent font-medium m-0",placeholder:"0",value:c,onChange:p}),r.a.createElement("div",{className:"flex s-32 bg-transparent text-gray-300 items-center justify-center text-subhead font-semibold"},"PX")),r.a.createElement(Vt,null,r.a.createElement(T.TiTimes,null)),r.a.createElement("div",{className:"h-32 overflow-hidden rounded-default border border-gray-200 flex items-center justify-start"},r.a.createElement("input",{className:"border-none h-full w-40 px-6 bg-transparent font-medium m-0",placeholder:"0",value:d,onChange:g}),r.a.createElement("div",{className:"flex s-32 bg-transparent text-gray-300 items-center justify-center text-subhead font-semibold"},"PX"))),r.a.createElement("div",{className:"flex justify-end"},r.a.createElement(Ke,{disabled:!v,className:"h-32",onPress:w},"Insert"))))},pn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.onRequestClose,i=Tt(),o=i[0],c=i[1],u=Object(a.useCallback)((function(e){var t=[].concat(o),n=t.findIndex((function(t){return t.id===e}));~n&&(t.splice(n,1),c(t))}),[o,c]);return r.a.createElement(tn,{position:"down",alignment:"end",isVisible:n,onRequestClose:l,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default p-8 space-y-8 w-320 bg-white border border-gray-300 overflow-hidden text-gray-500"},!o.length&&r.a.createElement("div",{className:"flex flex-col items-center justify-center text-center py-20 space-y-4"},r.a.createElement(Vt,{className:"text-blue-500 s-28"},r.a.createElement(A.FiInbox,null)),r.a.createElement("div",{className:"text-heading-2 font-medium"},"Spick and span!"),r.a.createElement("div",{className:"text-subhead"},"Choose the ",r.a.createElement("span",{className:"text-blue-500"},"Save to Icebox")," ","option to create standalone editables that do not appear in the document.")),r.a.createElement("div",{className:"space-y-4"},o.map((function(e){var t=e.id,n=e.defaultValue;return r.a.createElement("div",{key:t,className:"rounded-default bg-blue-500 text-white font-medium px-8 py-8 flex items-center"},r.a.createElement("div",{className:"flex-1"},n),r.a.createElement(Vt,{onPress:function(){return u(t)},className:"cursor-pointer text-white opacity-50 transition-opacity duration-250 hover:opacity-100"},r.a.createElement(M.FaRegTrashAlt,null)))})))))},gn=function(e){var t=e.active,n=e.children,a=Ft(e.onPress);return r.a.createElement("div",{className:m()("cursor-pointer h-40 px-20 flex items-center font-medium bg-transparent transition-colors duration-250 hover:bg-blue-100 hover:text-blue-500",{"text-blue-500 bg-blue-highlight":t}),onMouseDown:a},n)},yn=function(e){var t=e.anchorRef,n=e.isVisible,l=e.value,i=e.onPressOption,o=e.onRequestClose,c=Object(a.useCallback)((function(e){null===i||void 0===i||i(e),null===o||void 0===o||o()}),[i,o]);return r.a.createElement(tn,{position:"down",alignment:"start",isVisible:n,onRequestClose:o,anchorRef:t,transparent:!0,hideArrow:!0,overlayCloseOnClick:!0,contentClassName:"rounded-default"},r.a.createElement("div",{className:"rounded-default w-144 bg-white border border-gray-300 overflow-hidden text-gray-500"},r.a.createElement(gn,{active:ve(l),onPress:function(){return c()}},r.a.createElement("span",{className:"-ml-1"},"Normal")),r.a.createElement(gn,{active:"heading-three"===l,onPress:function(){return c("heading-three")}},r.a.createElement("span",{className:"text-headline -ml-1"},"Heading 3")),r.a.createElement(gn,{active:"heading-two"===l,onPress:function(){return c("heading-two")}},r.a.createElement("span",{className:"text-heading-3 -ml-1"},"Heading 2")),r.a.createElement(gn,{active:"heading-one"===l,onPress:function(){return c("heading-one")}},r.a.createElement("span",{className:"text-heading-2 -ml-1"},"Heading 1"))))},En=function(){var e=Dt(),t=Object(a.useRef)(e.selection),n=Object(a.useRef)(null),l=Object(a.useRef)(null),i=Object(a.useRef)(null),c=Object(a.useRef)(null),u=Object(a.useRef)(null),s=Object(a.useRef)(null),d=At(),f=At(),h=At(),b=At(),v=At(),p=At(),g=At(),y=function(){var e=Dt(),t=ke(e,"heading-one"),n=ke(e,"heading-two"),r=ke(e,"heading-three");return Object(a.useMemo)((function(){return[{name:"heading-one",label:"Heading 1",value:t},{name:"heading-two",label:"Heading 2",value:n},{name:"heading-three",label:"Heading 3",value:r}]}),[t,r,n]).find((function(e){return e.value}))}(),E=Ne(Dt()),w=It(),O=function(){var e,t;return!(null===(e=Dt().history)||void 0===e||null===(t=e.undos)||void 0===t||!t.length)}(),j=function(){var e,t;return!(null===(e=Dt().history)||void 0===e||null===(t=e.redos)||void 0===t||!t.length)}(),k=xe(Dt(),"ref"),x=Tt()[1],N=Object(a.useCallback)((function(t){var n=null===y||void 0===y?void 0:y.name;t!==n&&(pe(n)&&Se(e,n),pe(t)&&Se(e,t),Me(e))}),[e,y]),R=Object(a.useCallback)((function(n,a){void 0===a&&(a=!0);var r=E;n!==r&&(pe(t.current)&&o.h.select(e,t.current),pe(r)&&Re(e,r),pe(n)&&Re(e,n),t.current=e.selection,a&&Me(e))}),[e,E]),S=Object(a.useCallback)((function(n){pe(t.current)&&o.h.select(e,t.current),Le(e,n),Me(e)}),[e]),M=Object(a.useCallback)((function(n,a){pe(t.current)&&o.h.select(e,t.current),Le(e,{dimensions:n,label:a},!0),Me(e)}),[e]),P=Object(a.useCallback)((function(n,a){if(void 0===a&&(a=!1),pe(t.current)&&o.h.select(e,t.current),a){var r=qe(n,!0);x((function(e){return[r].concat(e)}))}else!function(e,t){var n=qe(t);o.h.insertNodes(e,n),o.h.move(e)}(e,n);Me(e)}),[e,x]),T=Object(a.useCallback)((function(n){pe(t.current)&&o.h.select(e,t.current),function(e,t){o.a.addMark(e,"ref",t),o.h.setNodes(e,{ref:t},{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type}})}(e,n),Me(e)}),[e]),ee=Ft((function(){d.open()})),te=Ft((function(){t.current=e.selection,f.open()})),ne=Ft((function(){t.current=e.selection,h.open()})),ae=Ft((function(){t.current=e.selection,b.open()})),re=Ft((function(){t.current=e.selection,v.open()})),le=Ft((function(){Be(e)})),ie=Ft((function(){k?function(e){o.a.removeMark(e,"ref"),o.h.unsetNodes(e,"ref",{match:function(t){return o.a.isVoid(e,t)&&"editable"===t.type}})}(e):(t.current=e.selection,p.open())})),oe=Object(a.useCallback)((function(t){Ce(e,t)}),[e]),ce=Object(a.useCallback)((function(t){!function(e,t){var n={alignment:"left"===t?null:t};o.h.setNodes(e,n)}(e,t)}),[e]),me=Object(a.useCallback)((function(){!function(e){var t={indentation:ge((Fe(e)||0)+3,0,99)};o.h.setNodes(e,t)}(e)}),[e]),he=Object(a.useCallback)((function(){!function(e){var t=ge((Fe(e)||0)-3,0,99),n={indentation:0===t?null:t};o.h.setNodes(e,n)}(e)}),[e]),be=Object(a.useCallback)((function(){Se(e,"numbered-list")}),[e]),ye=Object(a.useCallback)((function(){Se(e,"bulleted-list")}),[e]),Ee=Object(a.useCallback)((function(){F.a.undo(e)}),[e]),we=Object(a.useCallback)((function(){F.a.redo(e)}),[e]);return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"border-t border-b border-solid border-gray-300 py-20 px-60 bg-blue-50 flex items-center divide-x divide-gray-300 text-gray-500"},r.a.createElement("div",{className:"font-medium flex items-center"},r.a.createElement("div",{ref:n,className:"flex items-center w-144 space-x-4 flex-1",onMouseDown:ee},r.a.createElement(Vt,null,r.a.createElement(X.MdFormatSize,null)),r.a.createElement("span",{className:"flex-1 cursor-pointer transition-colors duration-250 hover:text-blue-500"},(null===y||void 0===y?void 0:y.label)||"Normal")),r.a.createElement("div",{ref:l,className:m()("s-28 cursor-pointer border-2 border-solid border-white mx-16 rounded-full shadow-2 transition-colors duration-250",{"bg-black":ve(E)}),style:{backgroundColor:E},onMouseDown:te})),r.a.createElement(Ht,null,r.a.createElement(Lt,{data:"bold",tip:"Bold",active:xe(e,"bold"),onPress:oe},r.a.createElement(B.MdFormatBold,null)),r.a.createElement(Lt,{data:"italic",tip:"Italic",active:xe(e,"italic"),onPress:oe},r.a.createElement(z.MdFormatItalic,null)),r.a.createElement(Lt,{data:"underline",tip:"Underline",active:xe(e,"underline"),onPress:oe},r.a.createElement(Y.MdFormatUnderlined,null)),r.a.createElement(Lt,{data:"strikethrough",tip:"Strikethrough",active:xe(e,"strikethrough"),onPress:oe},r.a.createElement(G.MdFormatStrikethrough,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Align left",active:ve(w)||w===ue,onPress:ce},r.a.createElement(L.MdFormatAlignLeft,null)),r.a.createElement(Lt,{data:"center",tip:"Align center",active:w===de,onPress:ce},r.a.createElement(V.MdFormatAlignCenter,null)),r.a.createElement(Lt,{data:"right",tip:"Align right",active:w===se,onPress:ce},r.a.createElement(H.MdFormatAlignRight,null)),r.a.createElement(Lt,{data:"justify",tip:"Justify",active:w===fe,onPress:ce},r.a.createElement(q.MdFormatAlignJustify,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Decrease indent",onPress:he},r.a.createElement(_.MdFormatIndentDecrease,null)),r.a.createElement(Lt,{tip:"Increase indent",onPress:me},r.a.createElement(W.MdFormatIndentIncrease,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Numbered list",active:ke(e,"numbered-list"),onPress:be},r.a.createElement(J.MdFormatListNumbered,null)),r.a.createElement(Lt,{tip:"Bulleted list",active:ke(e,"bulleted-list"),onPress:ye},r.a.createElement(U.MdFormatListBulleted,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Insert an image",ref:i,active:h.visible,onPress:ne},r.a.createElement(Z.RiImage2Fill,null)),r.a.createElement(Lt,{tip:"Insert a table",onPress:le},r.a.createElement(C.AiOutlineTable,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Insert an editable image",ref:c,active:b.visible,onPress:ae,className:"border border-dotted border-gray-500"},r.a.createElement($.RiImageEditFill,null)),r.a.createElement(Lt,{tip:"Insert editable content",active:v.visible,className:"border border-dotted border-gray-500",onPress:re},r.a.createElement(K.MdTextFields,null)),r.a.createElement(Lt,{tip:"Add a display condition",ref:u,active:k||p.visible,onPress:ie,className:"border border-dotted border-gray-500"},r.a.createElement(Q.MdTransform,null))),r.a.createElement(Ht,null,r.a.createElement(Lt,{tip:"Undo",onPress:Ee,disabled:!O},r.a.createElement(I.GrUndo,null)),r.a.createElement(Lt,{tip:"Redo",onPress:we,disabled:!j},r.a.createElement(D.GrRedo,null))),r.a.createElement("div",{className:"flex flex-1 items-center justify-end border-none"},r.a.createElement(Lt,{tip:"Open Icebox",ref:s,active:g.visible,onPress:g.open},r.a.createElement(A.FiInbox,null)))),r.a.createElement(yn,{anchorRef:n,isVisible:d.visible,value:null===y||void 0===y?void 0:y.name,onPressOption:N,onRequestClose:d.close}),r.a.createElement(cn,{anchorRef:l,isVisible:f.visible,value:E,onChangeColorOption:R,onRequestClose:f.close}),r.a.createElement(nn,{anchorRef:i,isVisible:h.visible,onRequestClose:h.close,onSubmitEditing:S}),r.a.createElement(vn,{anchorRef:c,isVisible:b.visible,onRequestClose:b.close,onSubmitEditing:M}),r.a.createElement(bn,{isVisible:v.visible,onRequestClose:v.close,onSubmit:P}),r.a.createElement(sn,{anchorRef:u,isVisible:p.visible,onRequestClose:p.close,onSubmitEditing:T}),r.a.createElement(pn,{anchorRef:s,isVisible:g.visible,onRequestClose:g.close}))},wn={A:function(e){return{type:"link",url:e.getAttribute("href")}},BLOCKQUOTE:function(){return{type:"quote"}},H1:function(){return{type:"heading-one"}},H2:function(){return{type:"heading-two"}},H3:function(){return{type:"heading-three"}},H4:function(){return{type:"heading-four"}},H5:function(){return{type:"heading-five"}},H6:function(){return{type:"heading-six"}},IMG:function(e){return{type:"image",url:e.getAttribute("src")}},LI:function(){return{type:"list-item"}},OL:function(){return{type:"numbered-list"}},P:function(){return{type:"paragraph"}},PRE:function(){return{type:"code"}},UL:function(){return{type:"bulleted-list"}},TABLE:function(){return{type:"table"}},TH:function(){return{type:"table-row"}},TR:function(){return{type:"table-row"}},TD:function(){return{type:"table-cell"}}},On={CODE:function(){return{code:!0}},DEL:function(){return{strikethrough:!0}},EM:function(){return{italic:!0}},I:function(){return{italic:!0}},S:function(){return{strikethrough:!0}},STRONG:function(){return{bold:!0}},U:function(){return{underline:!0}}},jn=function(e){var t=e.insertData,n=e.isInline,a=e.isVoid;return e.isInline=function(e){return!!["link","image"].includes(e.type)||n(e)},e.isVoid=function(e){return"image"===e.type||a(e)},e.insertData=function(n){var a=n.getData("text/html");if(a){var r=function e(t){if(3===t.nodeType){var n=t.textContent.replace(/\n/g," ");return n.trim().length?n:null}if(1!==t.nodeType)return null;if("BR"===t.nodeName)return"\n";var a=t.nodeName,r=t;"PRE"===a&&t.childNodes[0]&&"CODE"===t.childNodes[0].nodeName&&(r=t.childNodes[0]);var l=Array.from(r.childNodes).map(e).flat();if("BODY"===t.nodeName)return Object(ne.a)("fragment",{},l);if(wn[a]){var i=wn[a](t);return Object(ne.a)("element",i,l)}if(On[a]){var o=On[a](t);return l.map((function(e){return Object(ne.a)("text",o,e)}))}return l}((new DOMParser).parseFromString(a,"text/html").body),l=r;return Array.isArray(r)&&(l=function(e,t){var n=[],a=[],r=function(){n.length>0&&(a.push(Object(ne.a)("element",{type:"paragraph"},n)),n=[])};return t.forEach((function(t){o.g.isText(t)||o.a.isInline(e,t)?n.push(t):(r(),a.push(t))})),r(),a}(e,r)),void o.h.insertFragment(e,l)}t(n)},e},kn=new Set(["table"]),xn=new Set(["table"]),Nn=function(e){var t=e.normalizeNode;return e.normalizeNode=function(n){(function(e,t){var n=t[0],a=t[1],r=n.type,l=!1;if(kn.has(r)){var i=o.a.next(e,{at:a});i&&!xn.has(i[0].type)||(He(e,o.e.next(a)),l=!0)}if(xn.has(r))if(0===a[a.length-1])He(e,a),l=!0;else{var c=o.a.previous(e,{at:a});c&&!kn.has(c[0].type)||(He(e,a),l=!0)}return l})(e,n)||t(n)},function(e){var t=e.addMark,n=e.removeMark,a=e.deleteBackward,r=e.deleteFragment;return e.addMark=function(n,a){if(e.selection){for(var r,l=e.selection,i=!1,c=le(o.a.nodes(e,{match:function(e){return e.selectedCell},at:[]}));!(r=c()).done;){var u=r.value;i||(i=!0);var s=o.a.nodes(e,{match:function(e){return"table-content"===e.type},at:u[1]})[0];""!==o.a.string(e,s[1])&&(o.h.setSelection(e,o.a.range(e,u[1])),t(n,a))}if(i)return void o.h.select(e,l)}t(n,a)},e.removeMark=function(t){if(e.selection){for(var a,r=e.selection,l=!1,i=le(o.a.nodes(e,{match:function(e){return e.selectedCell},at:[]}));!(a=i()).done;){var c=a.value;l||(l=!0);var u=o.a.nodes(e,{match:function(e){return"table-content"===e.type},at:c[1]})[0];""!==o.a.string(e,u[1])&&(o.h.setSelection(e,o.a.range(e,c[1])),n(t))}if(l)return void o.h.select(e,r)}n(t)},e.deleteFragment=function(){if(e.selection&&Je(e))for(var t,n=o.a.nodes(e,{match:function(e){return e.selectedCell}}),a=le(n);!(t=a()).done;){var l=t.value;o.h.setSelection(e,o.a.range(e,l[1]));var i=o.a.nodes(e,{match:function(e){return"table-content"===e.type}}),c=i[0];o.h.insertNodes(e,Xe(),{at:c[1]}),o.h.removeNodes(e,{at:o.e.next(c[1])})}else o.h.removeNodes(e,{match:function(e){return"table"===e.type}}),r.apply(void 0,arguments)},e.deleteBackward=function(){var t=e.selection;if(t&&o.f.isCollapsed(t)){var n=o.a.above(e,{match:function(e){return"table"===e.type}});if(n){var r=o.a.start(e,t),l=o.a.isStart(e,r,t),i=o.a.above(e,{match:function(e){return"table-cell"===e.type}});if(l&&i&&!o.a.string(e,i[1]))return}}a.apply(void 0,arguments)},e}(e)},Cn=function(e){var t,n,l=e.className,i=e.initialValue,c=e.onSubmitChanges,u=Object(a.useRef)(i||{}).current,s=Object(a.useMemo)((function(){return Nn(jn(function(e){var t=e.isInline,n=e.isVoid;return e.isInline=function(e){return"editable"===e.type||t(e)},e.isVoid=function(e){return"editable"===e.type||n(e)},e}(Object(d.h)(Object(F.b)(Object(o.i)())))))}),[]),f=Object(a.useRef)((n=u.createdAt,n?n instanceof Date?n:new Date(n):new Date).toISOString()).current,h=Object(a.useState)(u.title||""),b=h[0],v=h[1],p=Object(a.useState)(u.orphans||[]),g=p[0],y=p[1],E=Object(a.useState)(null!==(t=u.nodes)&&void 0!==t&&t.length?u.nodes:[{type:"paragraph",children:[{text:""}]}]),w=E[0],O=E[1],j=Object(a.useCallback)((function(e){return r.a.createElement(Xt,Object.assign({},e))}),[]),k=Object(a.useCallback)((function(e){return r.a.createElement(Gt,Object.assign({},e))}),[]),x=Object(a.useCallback)((function(e){for(var t in oe){if(te()(t,e))e.preventDefault(),Ce(s,oe[t])}}),[s]),N=Object(a.useCallback)((function(){var e;null===c||void 0===c||c({title:(e=b,null===e||void 0===e?void 0:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/"/g,"&nbsp;")),createdAt:f,nodes:w,orphans:g})}),[c,b,f,w,g]);return r.a.createElement("div",{className:m()("font-sans",l)},r.a.createElement($e.Provider,{value:[g,y]},r.a.createElement(d.c,{editor:s,value:w,onChange:O},r.a.createElement("div",{className:"sticky top-0"},r.a.createElement(Ze,{title:b,createdAt:f,onChangeTitle:v,onPressSave:N}),r.a.createElement(En,null)),r.a.createElement(et,null,r.a.createElement(d.a,{spellCheck:!0,placeholder:"Start typing...",renderElement:j,renderLeaf:k,onKeyDown:x})),r.a.createElement("div",{id:"docmaker-modal-root"}))))},Rn=(n(96),function(){return r.a.createElement(Cn,{onSubmitChanges:console.log})});i.a.render(r.a.createElement(Rn,null),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.859a910a.chunk.js.map